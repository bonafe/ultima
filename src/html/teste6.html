<!DOCTYPE html>
<html lang="pt-br" style="height: 100%;">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visualizador de Toque</title>
    <link rel="stylesheet" href="./visualizador_toque.css">
    <link rel="stylesheet" href="../../bibliotecas/fontawesome-free-6.0.0-web/css/all.css">
</head>
<body style="height: 100%; margin: 0;">
    <!-- Container para o visualizador e o log -->
    <div class="container_visualizador" style="width: 100%; height: 100%;">
        <!-- Canvas para o visualizador -->
        <canvas id="visualizadorToque" style="border:solid rgb(239, 16, 16) 1px; width: 100%; height: 100%;"></canvas>
        <!-- Container para o log -->
        <div class="log_container">
            Log:
            <pre id="log"></pre>
        </div>
    </div>

    <script>
        // Seleciona o canvas e obtém o contexto 2D
        const canvas = document.getElementById('visualizadorToque');
        const ctx = canvas.getContext('2d');

        // Função para atualizar o tamanho do canvas para corresponder ao seu contêiner
        function atualizarTamanhoCanvas() {
            canvas.width = canvas.offsetWidth; // Define a largura do canvas como a largura do contêiner
            canvas.height = canvas.offsetHeight; // Define a altura do canvas como a altura do contêiner
        }

        // Função para desenhar em resposta a eventos de mouse
        function desenhar(event) {
            const rect = canvas.getBoundingClientRect(); // Obtém o retângulo que representa a posição do canvas na janela
            const x = event.clientX - rect.left; // Calcula a posição X do mouse em relação ao canvas
            const y = event.clientY - rect.top; // Calcula a posição Y do mouse em relação ao canvas
            ctx.fillRect(x - 5, y - 5, 10, 10); // Desenha um quadrado onde o mouse está posicionado
        }

        // Função para atualizar as coordenadas do mouse quando o canvas é redimensionado
        function atualizarCoordenadasMouse() {
            canvas.addEventListener('mousemove', desenhar); // Adiciona um ouvinte de evento de movimento do mouse
        }

        // Função para lidar com o redimensionamento da janela
        window.addEventListener('resize', () => {
            atualizarTamanhoCanvas(); // Atualiza o tamanho do canvas quando a janela é redimensionada
            atualizarCoordenadasMouse(); // Atualiza as coordenadas do mouse quando o canvas é redimensionado
        });

        // Inicializa o canvas
        atualizarTamanhoCanvas(); // Define o tamanho inicial do canvas
        atualizarCoordenadasMouse(); // Adiciona o ouvinte de evento de movimento do mouse
    </script>
</body>
</html>
